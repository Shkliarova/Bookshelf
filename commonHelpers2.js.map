{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shoppinglist-markup.js"],"sourcesContent":["import trash from '../images/icons.svg'\nimport { shoppingList } from \"../js/modal-pop-up/modal-pop-up\";\nimport { SHOPPING_LIST_STORAGE_KEY } from '../js/modal-pop-up/modal-pop-up';\nimport amazon from '../images/amazon-min.png';\nimport appleBook from '../images/book-shop-min.png';\n\nconst shoppingBooks = document.querySelector('.shopping-book-list');\nconst stubBook = document.querySelector('.stub');\n\nshoppingBooks.addEventListener('click', deleteBook);\n\nexport function renderCardShoppingBook(shoppingList){\n    const markupShoppingBook = shoppingList.map(\n      ({\n        book_image,\n        title,\n        list_name,\n        author,\n        description,\n        buy_links,\n        _id,\n      }) => {\n        const amazonLink = buy_links.find(link => link.name === 'Amazon');\n        const appleBooksLink = buy_links.find(item => item.name === 'Apple Books');\n        \n        return `<li class=\"shopping-book\" data-id=\"${_id}\">\n        \n        <div class=\"image-book\">\n             <img  class=\"image-book-shopping\" src=\"${book_image}\" alt=\"${description}\" loading=\"lazy\" />\n        </div>\n\n        <div class=\"book-info\">\n            <h3 class=\"shopping-book-title\">${title}</h3>\n            <p class=\"shopping-book-category\">${list_name}</p>\n            <p class=\"shopping-book-description\">${description}</p>\n            <p class=\"shopping-book-author\">${author}</p>\n\n            <div class=\"shopping-list-links\">\n                <a class=\"buy-links\" href=\"${amazonLink.url}\">\n                    <img  class=\"buy-links-icon amazon\"  src=\"${amazon}\" alt=\"amazon\" loading=\"lazy\" />\n                </a>  \n                <a class=\"buy-links\" href=\"${appleBooksLink.url}\">\n                    <img  class=\"buy-links-icon apple\" src=\"${appleBook}\" alt=\"apple book\" loading=\"lazy\" />\n                </a> \n            </div>\n            \n            <button type=\"button\" class=\"button-shopping-list js-card-delete\" data-id=\"${_id}\">\n                <svg class=\"icon-fill js-card-delete\" data-id=\"${_id}\">\n                    <use href=\"${trash}#icon-trash\" > </use>\n                </svg>\n            </button>\n        </div>\n    </li>`;\n      }\n    )\n    .join('');\n\n  shoppingBooks.innerHTML = markupShoppingBook;\n}\n\n\nif(!shoppingList.length){\n  stubBook.classList.remove('visually-hidden');  \n}\nelse{\n  renderCardShoppingBook(shoppingList);\n}\n\n\nfunction deleteBook(evt) {\n  if (!evt.target.classList.contains(\"js-card-delete\")) {\n    return\n  }\n  const bookId = evt.target.dataset.id;\n  const storageData = JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY));\n  const storData = storageData.filter(item => item._id !== bookId);\n\n  localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(storData));\n  renderCardShoppingBook(storData);\n\n  if (!storData.length) {\n    stubBook.classList.remove('visually-hidden');\n  }\n}\n\n\n"],"names":["shoppingBooks","stubBook","deleteBook","renderCardShoppingBook","shoppingList","markupShoppingBook","book_image","title","list_name","author","description","buy_links","_id","amazonLink","link","appleBooksLink","item","amazon","appleBook","trash","evt","bookId","storData","SHOPPING_LIST_STORAGE_KEY"],"mappings":"sHAMA,MAAMA,EAAgB,SAAS,cAAc,qBAAqB,EAC5DC,EAAW,SAAS,cAAc,OAAO,EAE/CD,EAAc,iBAAiB,QAASE,CAAU,EAE3C,SAASC,EAAuBC,EAAa,CAChD,MAAMC,EAAqBD,EAAa,IACtC,CAAC,CACC,WAAAE,EACA,MAAAC,EACA,UAAAC,EACA,OAAAC,EACA,YAAAC,EACA,UAAAC,EACA,IAAAC,CACR,IAAY,CACJ,MAAMC,EAAaF,EAAU,KAAKG,GAAQA,EAAK,OAAS,QAAQ,EAC1DC,EAAiBJ,EAAU,KAAKK,GAAQA,EAAK,OAAS,aAAa,EAEzE,MAAO,sCAAsCJ,CAAG;AAAA;AAAA;AAAA,sDAGFN,CAAU,UAAUI,CAAW;AAAA;AAAA;AAAA;AAAA,8CAIvCH,CAAK;AAAA,gDACHC,CAAS;AAAA,mDACNE,CAAW;AAAA,8CAChBD,CAAM;AAAA;AAAA;AAAA,6CAGPI,EAAW,GAAG;AAAA,gEACKI,CAAM;AAAA;AAAA,6CAEzBF,EAAe,GAAG;AAAA,8DACDG,CAAS;AAAA;AAAA;AAAA;AAAA,yFAIkBN,CAAG;AAAA,iEAC3BA,CAAG;AAAA,iCACnCO,CAAK;AAAA;AAAA;AAAA;AAAA,UAK/B,CACF,EACA,KAAK,EAAE,EAEVnB,EAAc,UAAYK,CAC5B,CAGID,EAAa,OAIfD,EAAuBC,CAAY,EAHnCH,EAAS,UAAU,OAAO,iBAAiB,EAO7C,SAASC,EAAWkB,EAAK,CACvB,GAAI,CAACA,EAAI,OAAO,UAAU,SAAS,gBAAgB,EACjD,OAEF,MAAMC,EAASD,EAAI,OAAO,QAAQ,GAE5BE,EADc,KAAK,MAAM,aAAa,QAAQC,CAAyB,CAAC,EACjD,OAAOP,GAAQA,EAAK,MAAQK,CAAM,EAE/D,aAAa,QAAQE,EAA2B,KAAK,UAAUD,CAAQ,CAAC,EACxEnB,EAAuBmB,CAAQ,EAE1BA,EAAS,QACZrB,EAAS,UAAU,OAAO,iBAAiB,CAE/C"}